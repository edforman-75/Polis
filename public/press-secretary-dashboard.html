<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Press Secretary Editorial Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #334155;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 20px 24px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 8px;
        }

        .stat-change {
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 500;
        }

        .stat-change.positive {
            background: #dcfce7;
            color: #166534;
        }

        .stat-change.negative {
            background: #fef2f2;
            color: #dc2626;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 24px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            overflow: hidden;
        }

        .section-header {
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8fafc;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .section-content {
            padding: 0;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            transition: all 0.2s;
        }

        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
            background: white;
        }

        .tab:hover:not(.active) {
            background: #e2e8f0;
        }

        .tab-content {
            display: none;
            padding: 20px 24px;
        }

        .tab-content.active {
            display: block;
        }

        .assignment-item {
            padding: 16px;
            border-bottom: 1px solid #e2e8f0;
            transition: background 0.2s;
        }

        .assignment-item:hover {
            background: #f8fafc;
        }

        .assignment-item:last-child {
            border-bottom: none;
        }

        .assignment-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .assignment-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .assignment-meta {
            font-size: 13px;
            color: #64748b;
            margin-bottom: 8px;
        }

        .assignment-content {
            font-size: 14px;
            color: #475569;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .assignment-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-in-progress {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-review {
            background: #e0e7ff;
            color: #3730a3;
        }

        .status-urgent {
            background: #fecaca;
            color: #dc2626;
            animation: pulse 2s infinite;
        }

        .priority-high {
            border-left: 4px solid #dc2626;
        }

        .priority-medium {
            border-left: 4px solid #f59e0b;
        }

        .priority-low {
            border-left: 4px solid #10b981;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .quick-actions {
            display: grid;
            gap: 12px;
        }

        .quick-action {
            padding: 16px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            color: #475569;
        }

        .quick-action:hover {
            background: #e2e8f0;
            transform: translateY(-1px);
        }

        .quick-action-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .override-panel {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }

        .override-title {
            font-weight: 600;
            color: #dc2626;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .override-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn-override {
            background: #dc2626;
            color: white;
            font-size: 12px;
            padding: 6px 12px;
        }

        .btn-override:hover {
            background: #b91c1c;
        }

        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>üìù Press Secretary Editorial Dashboard</h1>
            <div class="header-actions">
                <a href="/editor" class="btn btn-primary">Editorial Canvas</a>
                <a href="/dashboard" class="btn btn-secondary">Main Dashboard</a>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Editorial Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">12</div>
                <div class="stat-label">Assignments Pending Review</div>
                <span class="stat-change positive">+3 from yesterday</span>
            </div>
            <div class="stat-card">
                <div class="stat-value">4</div>
                <div class="stat-label">Urgent Deadlines Today</div>
                <span class="stat-change negative">2 overdue</span>
            </div>
            <div class="stat-card">
                <div class="stat-value">8</div>
                <div class="stat-label">Ready to Publish</div>
                <span class="stat-change positive">+5 from yesterday</span>
            </div>
            <div class="stat-card">
                <div class="stat-value">95%</div>
                <div class="stat-label">Editorial Approval Rate</div>
                <span class="stat-change positive">+2% this week</span>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="main-content">
                <!-- Editorial Queue -->
                <div class="section">
                    <div class="section-header">
                        <h2 class="section-title">üìã Editorial Queue</h2>
                        <button class="btn btn-primary" onclick="refreshQueue()">Refresh</button>
                    </div>

                    <div class="tabs">
                        <div class="tab active" onclick="showTab('pending-review')">Pending Review</div>
                        <div class="tab" onclick="showTab('urgent')">Urgent</div>
                        <div class="tab" onclick="showTab('ready-publish')">Ready to Publish</div>
                        <div class="tab" onclick="showTab('returned')">Returned</div>
                    </div>

                    <div id="pending-review" class="tab-content active">
                        <div class="assignment-item priority-high">
                            <div class="assignment-header">
                                <div>
                                    <div class="assignment-title">Healthcare Press Release</div>
                                    <div class="assignment-meta">From: Senior Writer ‚Ä¢ A-2024-045 ‚Ä¢ Due: 2 hours</div>
                                </div>
                                <span class="status-badge status-review">REVIEW</span>
                            </div>
                            <div class="assignment-content">
                                Press release announcing new healthcare initiative. Requires fact-checking integration and message discipline review.
                            </div>
                            <div class="assignment-actions">
                                <button class="btn btn-primary" onclick="openEditor('A-2024-045')">Edit</button>
                                <button class="btn btn-secondary" onclick="returnToWriter('A-2024-045')">Return to Writer</button>
                                <button class="btn btn-override" onclick="publishNow('A-2024-045')">Publish Now</button>
                            </div>
                        </div>

                        <div class="assignment-item priority-medium">
                            <div class="assignment-header">
                                <div>
                                    <div class="assignment-title">Economic Policy Statement</div>
                                    <div class="assignment-meta">From: Writer ‚Ä¢ A-2024-042 ‚Ä¢ Due: Tomorrow</div>
                                </div>
                                <span class="status-badge status-in-progress">IN PROGRESS</span>
                            </div>
                            <div class="assignment-content">
                                Statement on new economic policy proposals. Requires coordination with policy team and messaging alignment.
                            </div>
                            <div class="assignment-actions">
                                <button class="btn btn-primary" onclick="openEditor('A-2024-042')">Edit</button>
                                <button class="btn btn-secondary" onclick="requestFactCheck('A-2024-042')">Fact Check</button>
                            </div>
                        </div>
                    </div>

                    <div id="urgent" class="tab-content">
                        <div class="assignment-item priority-high">
                            <div class="assignment-header">
                                <div>
                                    <div class="assignment-title">Breaking: Opposition Response</div>
                                    <div class="assignment-meta">From: Communications Director ‚Ä¢ URGENT-2024-003 ‚Ä¢ Due: 30 minutes</div>
                                </div>
                                <span class="status-badge status-urgent">CRITICAL</span>
                            </div>
                            <div class="assignment-content">
                                Rapid response to opposition attack on healthcare record. Needs immediate editorial review and publication.
                            </div>
                            <div class="override-panel">
                                <div class="override-title">‚ö° Emergency Override Available</div>
                                <div class="override-actions">
                                    <button class="btn btn-override" onclick="emergencyPublish('URGENT-2024-003')">Emergency Publish</button>
                                    <button class="btn btn-override" onclick="skipApproval('URGENT-2024-003')">Skip Approval</button>
                                </div>
                            </div>
                            <div class="assignment-actions">
                                <button class="btn btn-primary" onclick="openEditor('URGENT-2024-003')">Edit Now</button>
                                <button class="btn btn-secondary" onclick="escalateToDirector('URGENT-2024-003')">Escalate</button>
                            </div>
                        </div>
                    </div>

                    <div id="ready-publish" class="tab-content">
                        <div class="assignment-item priority-medium">
                            <div class="assignment-header">
                                <div>
                                    <div class="assignment-title">Infrastructure Investment Announcement</div>
                                    <div class="assignment-meta">From: Senior Writer ‚Ä¢ A-2024-040 ‚Ä¢ Approved</div>
                                </div>
                                <span class="status-badge status-review">APPROVED</span>
                            </div>
                            <div class="assignment-content">
                                Final announcement on infrastructure investments. All fact-checks completed, ready for publication.
                            </div>
                            <div class="assignment-actions">
                                <button class="btn btn-primary" onclick="publishContent('A-2024-040')">Publish</button>
                                <button class="btn btn-secondary" onclick="schedulePublish('A-2024-040')">Schedule</button>
                                <button class="btn btn-secondary" onclick="previewContent('A-2024-040')">Preview</button>
                            </div>
                        </div>
                    </div>

                    <div id="returned" class="tab-content">
                        <div class="assignment-item priority-low">
                            <div class="assignment-header">
                                <div>
                                    <div class="assignment-title">Education Policy Update</div>
                                    <div class="assignment-meta">Returned to: Writer ‚Ä¢ A-2024-038 ‚Ä¢ Revision Due: 4 hours</div>
                                </div>
                                <span class="status-badge status-pending">REVISION</span>
                            </div>
                            <div class="assignment-content">
                                <strong>Feedback:</strong> Needs stronger data on student outcomes and clearer messaging on funding mechanisms.
                            </div>
                            <div class="assignment-actions">
                                <button class="btn btn-secondary" onclick="trackRevision('A-2024-038')">Track Progress</button>
                                <button class="btn btn-secondary" onclick="extendDeadline('A-2024-038')">Extend Deadline</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <!-- Quick Actions -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">‚ö° Quick Actions</h3>
                    </div>
                    <div class="section-content" style="padding: 20px;">
                        <div class="quick-actions">
                            <div class="quick-action" onclick="createAssignment()">
                                <div class="quick-action-icon">‚ûï</div>
                                <div>New Assignment</div>
                            </div>
                            <div class="quick-action" onclick="openEditorialCanvas()">
                                <div class="quick-action-icon">‚úèÔ∏è</div>
                                <div>Editorial Canvas</div>
                            </div>
                            <div class="quick-action" onclick="bulkActions()">
                                <div class="quick-action-icon">üì¶</div>
                                <div>Bulk Actions</div>
                            </div>
                            <div class="quick-action" onclick="workflowSettings()">
                                <div class="quick-action-icon">‚öôÔ∏è</div>
                                <div>Workflow Settings</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Editorial Tools -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">üõ†Ô∏è Editorial Tools</h3>
                    </div>
                    <div class="section-content" style="padding: 20px;">
                        <div class="quick-actions">
                            <div class="quick-action" onclick="styleChecker()">
                                <div class="quick-action-icon">üìù</div>
                                <div>AP Style Checker</div>
                            </div>
                            <div class="quick-action" onclick="aiAssistant()">
                                <div class="quick-action-icon">ü§ñ</div>
                                <div>AI Editorial Assistant</div>
                            </div>
                            <div class="quick-action" onclick="factCheckPortal()">
                                <div class="quick-action-icon">‚úÖ</div>
                                <div>Fact Check Portal</div>
                            </div>
                            <div class="quick-action" onclick="messageLibrary()">
                                <div class="quick-action-icon">üí¨</div>
                                <div>Message Library</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Team Status -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">üë• Team Status</h3>
                    </div>
                    <div class="section-content" style="padding: 20px;">
                        <div style="font-size: 14px; line-height: 1.6;">
                            <div style="margin-bottom: 12px;">
                                <strong>Senior Writer:</strong> 3 active assignments<br>
                                <span style="color: #10b981;">Available for new work</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>Writer 1:</strong> 2 active assignments<br>
                                <span style="color: #f59e0b;">At capacity</span>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <strong>Writer 2:</strong> 1 active assignment<br>
                                <span style="color: #10b981;">Available for urgent work</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function openEditor(assignmentId) {
            window.location.href = `/editor?assignment=${assignmentId}`;
        }

        function returnToWriter(assignmentId) {
            // This would open a modal with feedback form
            const feedback = prompt('Feedback for writer:');
            if (feedback) {
                alert(`Assignment ${assignmentId} returned to writer with feedback: "${feedback}"`);
                // API call: POST /api/assignments/:id/return-to-writer
            }
        }

        function publishNow(assignmentId) {
            if (confirm('Publish immediately, bypassing normal approval workflow?')) {
                alert(`Assignment ${assignmentId} published immediately`);
                // API call: PATCH /api/assignments/:id/status { status: 'published' }
            }
        }

        function emergencyPublish(assignmentId) {
            if (confirm('EMERGENCY PUBLISH: This will bypass all checks and publish immediately. Continue?')) {
                alert(`EMERGENCY: Assignment ${assignmentId} published with override authority`);
                // API call with emergency flag
            }
        }

        function skipApproval(assignmentId) {
            alert(`Approval workflow skipped for ${assignmentId}`);
            // Set status directly to approved
        }

        function escalateToDirector(assignmentId) {
            alert(`Assignment ${assignmentId} escalated to Communications Director`);
            // Notify Communications Director
        }

        function requestFactCheck(assignmentId) {
            alert(`Fact-check requested for ${assignmentId}`);
            // API call: POST /api/research/fact-check/submit
        }

        function publishContent(assignmentId) {
            alert(`Publishing ${assignmentId}`);
            // Normal publish workflow
        }

        function schedulePublish(assignmentId) {
            const time = prompt('Schedule publish time (e.g., "2024-01-15 14:00"):');
            if (time) {
                alert(`${assignmentId} scheduled for ${time}`);
            }
        }

        function previewContent(assignmentId) {
            window.open(`/preview/${assignmentId}`, '_blank');
        }

        function trackRevision(assignmentId) {
            alert(`Opening revision tracker for ${assignmentId}`);
        }

        function extendDeadline(assignmentId) {
            const hours = prompt('Extend deadline by how many hours?');
            if (hours) {
                alert(`Deadline extended by ${hours} hours for ${assignmentId}`);
                // API call to extend deadline
            }
        }

        function refreshQueue() {
            alert('Editorial queue refreshed');
            // Reload assignment data
        }

        function createAssignment() {
            window.location.href = '/dashboard?action=create';
        }

        function openEditorialCanvas() {
            window.location.href = '/editor';
        }

        function bulkActions() {
            alert('Opening bulk actions interface');
        }

        function workflowSettings() {
            alert('Opening workflow settings');
        }

        function styleChecker() {
            alert('Opening AP Style checker');
        }

        function aiAssistant() {
            alert('Opening AI Editorial Assistant');
        }

        function factCheckPortal() {
            window.location.href = '/research';
        }

        function messageLibrary() {
            alert('Opening approved message library');
        }
    </script>
</body>
</html>